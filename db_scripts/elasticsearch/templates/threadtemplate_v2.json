{
    "script": {
    "lang": "mustache",
    "source": "{\n  \"size\": {{sizeValue}}, \n  \"from\": {{fromValue}}, \n  \"sort\": [\n    {\n      \"{{sortField}}\": {\n        \"order\": \"{{sortOrder}}\"\n      }\n    }\n  ],\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"rootOrg\": {\n              \"value\": \"{{rootOrgValue}}\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"org\": {\n              \"value\": \"{{orgValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"status\": {{#toJson}}mustfilterstatusValue{{/toJson}}\n          }\n        },\n        {\n          \"range\": {\n            \"dtLastModified\": {\n              \"gte\": \"{{mustfilterdtLastModifiedgteValue}}\",\n              \"lt\": \"{{mustfilterdtLastModifiedltValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"postKind\": {{#toJson}}mustfilterpostKindValue{{/toJson}}\n          }\n        }\n        {{#mustfilteraccessPaths}}\n        ,\n        {\n          \"terms\": {\n            \"accessPaths\": {{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n          }\n        }\n        {{/mustfilteraccessPaths}}\n\t\t{{#mustfilterhasAcceptedAnswer}}\n\t\t,\n        {\n          \"term\": {\n            \"hasAcceptedAnswer\": {\n              \"value\": \"{{mustfilterhasAcceptedAnswerValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterhasAcceptedAnswer}}\n\t\t{{#mustfilterreplyCount}}\n\t\t,\n        {\n          \"term\": {\n            \"replyCount\": {\n              \"value\": \"{{mustfilterreplyCountValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterreplyCount}}\n\t\t{{#mustfilterthreadContributors}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"threadContributors\",\n            \"query\": {\n              \"terms\": {\n                \"threadContributors.threadContributorId\": {{#toJson}}mustfilterthreadContributorsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterthreadContributors}}\n\t\t\t\t{{#mustfilterpostCreator}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"postCreator\",\n            \"query\": {\n              \"terms\": {\n                \"postCreator.postCreatorId\": {{#toJson}}mustfilterpostCreatorValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterpostCreator}}\n\t\t{{#mustfiltertags}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"tags\",\n            \"query\": {\n              \"terms\": {\n                \"tags.id\": {{#toJson}}mustfiltertagsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltertags}}\n\t\t{{#mustfiltersourceid}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.id\": {{#toJson}}mustfiltersourceidValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceid}}\n\t\t{{#mustfiltersourcename}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.name.keyword\": {{#toJson}}mustfiltersourcenameValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourcename}}\n\t\t{{#mustfiltersourceidregexp}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"regexp\": {\n                    \"source.id\": \"{{mustfiltersourceidregexpValue}}\"\n                }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceidregexp}}\n\t\t{{#mustfilterhashTags}}\n\t\t,\n\t\t{\n          \"terms\": {\n            \"hashTags.keyword\": {{#toJson}}mustfilterhashTagsValue{{/toJson}}\n          }\n        }\n\t\t{{/mustfilterhashTags}}\n\t\t{{#mustfilterdtPublished}}\n\t\t,\n\t\t{\n          \"range\": {\n            \"dtPublished\": {\n              \"gte\": \"{{mustfilterdtPublishedgteValue}}\",\n              \"lt\": \"{{mustfilterdtPublishedltValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterdtPublished}}\n\t\t{{#mustshouldfilter}}\n\t\t,\n        {\n          \"bool\": {\n            \"should\": [\n              {{#shouldfilterthreadContributors}}\n              {\n                \"nested\": {\n                  \"path\": \"threadContributors\",\n                  \"query\": {\n                    \"terms\": {\n                      \"threadContributors.threadContributorId\": {{#toJson}}shouldfilterthreadContributorsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfilterthreadContributors}}\n\t\t\t  {{#shouldfiltersourceid}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.id\": {{#toJson}}shouldfiltersourceidValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourceid}}\n\t\t\t  {{#shouldfiltersourcename}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.name.keyword\": {{#toJson}}shouldfiltersourcenameValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourcename}}\n\t\t\t  {{#shouldfiltertags}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"tags\",\n                  \"query\": {\n                    \"terms\": {\n                      \"tags.id\": {{#toJson}}shouldfiltertagsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltertags}}\n\t\t\t  {{#shouldfilterhashTags}}\n\t\t    {{#shouldComma}},{{/shouldComma}}\n\t\t    {\n          \"terms\": {\n            \"hashTags.keyword\": {{#toJson}}shouldfilterhashTagsValue{{/toJson}}\n          }\n        }\n\t\t{{/shouldfilterhashTags}}\n\t\t\t  \n            ]\n          }\n        }\n\t\t{{/mustshouldfilter}}\n      ]\n    }\n  },\n  \"aggs\":{\n    \"TotalAggs\":{\n      \"global\": {},\n      \"aggs\":{\n        {{#accessPathsAggregation}}\n        \"accessPathsAggs\":{\n          \"filter\":{\n            \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"rootOrg\": {\n              \"value\": \"{{rootOrgValue}}\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"org\": {\n              \"value\": \"{{orgValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"status\": {{#toJson}}mustfilterstatusValue{{/toJson}}\n          }\n        },\n        {\n          \"range\": {\n            \"dtLastModified\": {\n              \"gte\": \"{{mustfilterdtLastModifiedgteValue}}\",\n              \"lt\": \"{{mustfilterdtLastModifiedltValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"postKind\": {{#toJson}}mustfilterpostKindValue{{/toJson}}\n          }\n        }\n        {{#mustfilteraccessPaths}}\n        ,\n        {\n          \"terms\": {\n            \"accessPaths\": {{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n          }\n        }\n        {{/mustfilteraccessPaths}}\n\t\t{{#mustfilterhasAcceptedAnswer}}\n\t\t,\n        {\n          \"term\": {\n            \"hasAcceptedAnswer\": {\n              \"value\": \"{{mustfilterhasAcceptedAnswerValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterhasAcceptedAnswer}}\n\t\t{{#mustfilterreplyCount}}\n\t\t,\n        {\n          \"term\": {\n            \"replyCount\": {\n              \"value\": \"{{mustfilterreplyCountValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterreplyCount}}\n\t\t{{#mustfilterthreadContributors}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"threadContributors\",\n            \"query\": {\n              \"terms\": {\n                \"threadContributors.threadContributorId\": {{#toJson}}mustfilterthreadContributorsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterthreadContributors}}\n\t\t\t\t{{#mustfilterpostCreator}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"postCreator\",\n            \"query\": {\n              \"terms\": {\n                \"postCreator.postCreatorId\": {{#toJson}}mustfilterpostCreatorValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterpostCreator}}\n\t\t{{#mustfiltertags}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"tags\",\n            \"query\": {\n              \"terms\": {\n                \"tags.id\": {{#toJson}}mustfiltertagsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltertags}}\n\t\t{{#mustfiltersourceid}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.id\": {{#toJson}}mustfiltersourceidValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceid}}\n\t\t{{#mustfiltersourcename}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.name.keyword\": {{#toJson}}mustfiltersourcenameValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourcename}}\n\t\t{{#mustfiltersourceidregexp}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"regexp\": {\n                    \"source.id\": \"{{mustfiltersourceidregexpValue}}\"\n                }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceidregexp}}\n\t\t{{#mustfilterhashTags}}\n\t\t,\n        {\n          \"match\": {\n            \"hashTags\": \"{{mustfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/mustfilterhashTags}}\n\t\t{{#mustfilterdtPublished}}\n\t\t,\n\t\t{\n          \"range\": {\n            \"dtPublished\": {\n              \"gte\": \"{{mustfilterdtPublishedgteValue}}\",\n              \"lt\": \"{{mustfilterdtPublishedltValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterdtPublished}}\n\t\t{{#mustshouldfilter}}\n\t\t,\n        {\n          \"bool\": {\n            \"should\": [\n              {{#shouldfilterthreadContributors}}\n              {\n                \"nested\": {\n                  \"path\": \"threadContributors\",\n                  \"query\": {\n                    \"terms\": {\n                      \"threadContributors.threadContributorId\": {{#toJson}}shouldfilterthreadContributorsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfilterthreadContributors}}\n\t\t\t  {{#shouldfiltersourceid}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.id\": {{#toJson}}shouldfiltersourceidValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourceid}}\n\t\t\t  {{#shouldfiltersourcename}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.name.keyword\": {{#toJson}}shouldfiltersourcenameValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourcename}}\n\t\t\t  {{#shouldfiltertags}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"tags\",\n                  \"query\": {\n                    \"terms\": {\n                      \"tags.id\": {{#toJson}}shouldfiltertagsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltertags}}\n\t\t\t  {{#shouldfilterhashTags}}\n\t\t    {{#shouldComma}},{{/shouldComma}}\n        {\n          \"match\": {\n            \"hashTags\": \"{{shouldfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/shouldfilterhashTags}}\n\t\t\t  \n            ]\n          }\n        }\n\t\t{{/mustshouldfilter}}\n      ]\n    }\n          },\n          \"aggs\":{\n            \"accessPathsAggs\": {\n              \"terms\": {\n                \"field\": \"accessPaths\",\n                \"size\": 1000\n                {{#includeaccessPaths}}\n                ,\n                \"include\":{{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n                {{/includeaccessPaths}}\n              }\n            }\n          }\n        }\n        {{/accessPathsAggregation}}\n        {{#hashtagsAggregation}}\n        \n        {{#hashtagsAggregationComma}},{{/hashtagsAggregationComma}}\n        \n        \"hashtagsAggs\":{\n          \"filter\":{\n           \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"rootOrg\": {\n              \"value\": \"{{rootOrgValue}}\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"org\": {\n              \"value\": \"{{orgValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"status\": {{#toJson}}mustfilterstatusValue{{/toJson}}\n          }\n        },\n        {\n          \"range\": {\n            \"dtLastModified\": {\n              \"gte\": \"{{mustfilterdtLastModifiedgteValue}}\",\n              \"lt\": \"{{mustfilterdtLastModifiedltValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"postKind\": {{#toJson}}mustfilterpostKindValue{{/toJson}}\n          }\n        }\n        {{#mustfilteraccessPaths}}\n        ,\n        {\n          \"terms\": {\n            \"accessPaths\": {{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n          }\n        }\n        {{/mustfilteraccessPaths}}\n\t\t{{#mustfilterhasAcceptedAnswer}}\n\t\t,\n        {\n          \"term\": {\n            \"hasAcceptedAnswer\": {\n              \"value\": \"{{mustfilterhasAcceptedAnswerValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterhasAcceptedAnswer}}\n\t\t{{#mustfilterreplyCount}}\n\t\t,\n        {\n          \"term\": {\n            \"replyCount\": {\n              \"value\": \"{{mustfilterreplyCountValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterreplyCount}}\n\t\t{{#mustfilterthreadContributors}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"threadContributors\",\n            \"query\": {\n              \"terms\": {\n                \"threadContributors.threadContributorId\": {{#toJson}}mustfilterthreadContributorsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterthreadContributors}}\n\t\t\t\t{{#mustfilterpostCreator}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"postCreator\",\n            \"query\": {\n              \"terms\": {\n                \"postCreator.postCreatorId\": {{#toJson}}mustfilterpostCreatorValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterpostCreator}}\n\t\t{{#mustfiltertags}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"tags\",\n            \"query\": {\n              \"terms\": {\n                \"tags.id\": {{#toJson}}mustfiltertagsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltertags}}\n\t\t{{#mustfiltersourceid}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.id\": {{#toJson}}mustfiltersourceidValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceid}}\n\t\t{{#mustfiltersourcename}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.name.keyword\": {{#toJson}}mustfiltersourcenameValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourcename}}\n\t\t{{#mustfiltersourceidregexp}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"regexp\": {\n                    \"source.id\": \"{{mustfiltersourceidregexpValue}}\"\n                }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceidregexp}}\n\t\t{{#mustfilterdtPublished}}\n\t\t,\n\t\t{\n          \"range\": {\n            \"dtPublished\": {\n              \"gte\": \"{{mustfilterdtPublishedgteValue}}\",\n              \"lt\": \"{{mustfilterdtPublishedltValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterdtPublished}}\n\t\t{{#mustshouldfilter}}\n\t\t,\n        {\n          \"bool\": {\n            \"should\": [\n              {{#shouldfilterthreadContributors}}\n              {\n                \"nested\": {\n                  \"path\": \"threadContributors\",\n                  \"query\": {\n                    \"terms\": {\n                      \"threadContributors.threadContributorId\": {{#toJson}}shouldfilterthreadContributorsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfilterthreadContributors}}\n\t\t\t  {{#shouldfiltersourceid}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.id\": {{#toJson}}shouldfiltersourceidValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourceid}}\n\t\t\t  {{#shouldfiltersourcename}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.name.keyword\": {{#toJson}}shouldfiltersourcenameValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourcename}}\n\t\t\t  {{#shouldfiltertags}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"tags\",\n                  \"query\": {\n                    \"terms\": {\n                      \"tags.id\": {{#toJson}}shouldfiltertagsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltertags}}\n\t\t\t  {{#shouldfilterhashTags}}\n\t\t    {{#shouldComma}},{{/shouldComma}}\n        {\n          \"match\": {\n            \"hashTags\": \"{{shouldfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/shouldfilterhashTags}}\n\t\t\t  \n            ]\n          }\n        }\n\t\t{{/mustshouldfilter}}\n      ]\n    }\n          },\n          \"aggs\":{\n            \"hashtagsAggs\": {\n              \"terms\": {\n                \"field\": \"hashTags.keyword\",\n                \"size\": 1000\n              }\n            }\n          }\n        }\n        {{/hashtagsAggregation}}\n        {{#tagsAggregation}}\n        \n        {{#tagsAggregationComma}},{{/tagsAggregationComma}}\n        \n        \"tagsAggs\":{\n          \"filter\":{\n            \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"rootOrg\": {\n              \"value\": \"{{rootOrgValue}}\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"org\": {\n              \"value\": \"{{orgValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"status\": {{#toJson}}mustfilterstatusValue{{/toJson}}\n          }\n        },\n        {\n          \"range\": {\n            \"dtLastModified\": {\n              \"gte\": \"{{mustfilterdtLastModifiedgteValue}}\",\n              \"lt\": \"{{mustfilterdtLastModifiedltValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"postKind\": {{#toJson}}mustfilterpostKindValue{{/toJson}}\n          }\n        }\n        {{#mustfilteraccessPaths}}\n        ,\n        {\n          \"terms\": {\n            \"accessPaths\": {{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n          }\n        }\n        {{/mustfilteraccessPaths}}\n\t\t{{#mustfilterhasAcceptedAnswer}}\n\t\t,\n        {\n          \"term\": {\n            \"hasAcceptedAnswer\": {\n              \"value\": \"{{mustfilterhasAcceptedAnswerValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterhasAcceptedAnswer}}\n\t\t{{#mustfilterreplyCount}}\n\t\t,\n        {\n          \"term\": {\n            \"replyCount\": {\n              \"value\": \"{{mustfilterreplyCountValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterreplyCount}}\n\t\t{{#mustfilterthreadContributors}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"threadContributors\",\n            \"query\": {\n              \"terms\": {\n                \"threadContributors.threadContributorId\": {{#toJson}}mustfilterthreadContributorsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterthreadContributors}}\n\t\t\t\t{{#mustfilterpostCreator}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"postCreator\",\n            \"query\": {\n              \"terms\": {\n                \"postCreator.postCreatorId\": {{#toJson}}mustfilterpostCreatorValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterpostCreator}}\n\t\t{{#mustfiltersourceid}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.id\": {{#toJson}}mustfiltersourceidValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceid}}\n\t\t{{#mustfiltersourcename}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.name.keyword\": {{#toJson}}mustfiltersourcenameValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourcename}}\n\t\t{{#mustfiltersourceidregexp}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"regexp\": {\n                    \"source.id\": \"{{mustfiltersourceidregexpValue}}\"\n                }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceidregexp}}\n\t\t{{#mustfilterhashTags}}\n\t\t,\n        {\n          \"match\": {\n            \"hashTags\": \"{{mustfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/mustfilterhashTags}}\n\t\t{{#mustfilterdtPublished}}\n\t\t,\n\t\t{\n          \"range\": {\n            \"dtPublished\": {\n              \"gte\": \"{{mustfilterdtPublishedgteValue}}\",\n              \"lt\": \"{{mustfilterdtPublishedltValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterdtPublished}}\n\t\t{{#mustshouldfilter}}\n\t\t,\n        {\n          \"bool\": {\n            \"should\": [\n              {{#shouldfilterthreadContributors}}\n              {\n                \"nested\": {\n                  \"path\": \"threadContributors\",\n                  \"query\": {\n                    \"terms\": {\n                      \"threadContributors.threadContributorId\": {{#toJson}}shouldfilterthreadContributorsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfilterthreadContributors}}\n\t\t\t  {{#shouldfiltersourceid}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.id\": {{#toJson}}shouldfiltersourceidValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourceid}}\n\t\t\t  {{#shouldfiltersourcename}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.name.keyword\": {{#toJson}}shouldfiltersourcenameValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourcename}}\n\t\t\t  {{#shouldfiltertags}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"tags\",\n                  \"query\": {\n                    \"terms\": {\n                      \"tags.id\": {{#toJson}}shouldfiltertagsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltertags}}\n\t\t\t  {{#shouldfilterhashTags}}\n\t\t    {{#shouldComma}},{{/shouldComma}}\n        {\n          \"match\": {\n            \"hashTags\": \"{{shouldfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/shouldfilterhashTags}}\n\t\t\t  \n            ]\n          }\n        }\n\t\t{{/mustshouldfilter}}\n      ]\n    }\n          },\n          \"aggs\": {\n            \"tagsAggs\": {\n              \"nested\": {\n                \"path\": \"tags\"\n              },\n              \"aggs\": {\n                \"tagsAggs\": {\n                  \"terms\": {\n                    \"field\": \"tags.id\",\n                    \"size\": 1000\n                    {{#includetags}}\n                    ,\n                    \"include\": {{#toJson}}includetagsValue{{/toJson}}\n                    {{/includetags}}\n                  },\n                  \"aggs\": {\n                    \"tagsAggs\": {\n                      \"terms\": {\n                        \"field\": \"tags.name.keyword\",\n                        \"size\": 1000\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        {{/tagsAggregation}}\n        {{#threadContributorsAggregation}}\n        \n        {{#threadContributorsAggregationComma}},{{/threadContributorsAggregationComma}}\n        \n        \"threadContributorsAggs\":{\n          \"filter\":{\n            \"bool\": {\n      \"must\": [\n        {\n          \"term\": {\n            \"rootOrg\": {\n              \"value\": \"{{rootOrgValue}}\"\n            }\n          }\n        },\n        {\n          \"term\": {\n            \"org\": {\n              \"value\": \"{{orgValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"status\": {{#toJson}}mustfilterstatusValue{{/toJson}}\n          }\n        },\n        {\n          \"range\": {\n            \"dtLastModified\": {\n              \"gte\": \"{{mustfilterdtLastModifiedgteValue}}\",\n              \"lt\": \"{{mustfilterdtLastModifiedltValue}}\"\n            }\n          }\n        },\n        {\n          \"terms\": {\n            \"postKind\": {{#toJson}}mustfilterpostKindValue{{/toJson}}\n          }\n        }\n        {{#mustfilteraccessPaths}}\n        ,\n        {\n          \"terms\": {\n            \"accessPaths\": {{#toJson}}mustfilteraccessPathsValue{{/toJson}}\n          }\n        }\n        {{/mustfilteraccessPaths}}\n\t\t{{#mustfilterhasAcceptedAnswer}}\n\t\t,\n        {\n          \"term\": {\n            \"hasAcceptedAnswer\": {\n              \"value\": \"{{mustfilterhasAcceptedAnswerValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterhasAcceptedAnswer}}\n\t\t{{#mustfilterreplyCount}}\n\t\t,\n        {\n          \"term\": {\n            \"replyCount\": {\n              \"value\": \"{{mustfilterreplyCountValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterreplyCount}}\n\t\t\t\t{{#mustfilterpostCreator}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"postCreator\",\n            \"query\": {\n              \"terms\": {\n                \"postCreator.postCreatorId\": {{#toJson}}mustfilterpostCreatorValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfilterpostCreator}}\n\t\t{{#mustfiltertags}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"tags\",\n            \"query\": {\n              \"terms\": {\n                \"tags.id\": {{#toJson}}mustfiltertagsValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltertags}}\n\t\t{{#mustfiltersourceid}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.id\": {{#toJson}}mustfiltersourceidValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceid}}\n\t\t{{#mustfiltersourcename}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"terms\": {\n                \"source.name.keyword\": {{#toJson}}mustfiltersourcenameValue{{/toJson}}\n              }\n            }\n          }\n        }\n\t\t{{/mustfiltersourcename}}\n\t\t{{#mustfiltersourceidregexp}}\n\t\t,\n        {\n          \"nested\": {\n            \"path\": \"source\",\n            \"query\": {\n              \"regexp\": {\n                    \"source.id\": \"{{mustfiltersourceidregexpValue}}\"\n                }\n            }\n          }\n        }\n\t\t{{/mustfiltersourceidregexp}}\n\t\t{{#mustfilterhashTags}}\n\t\t,\n        {\n          \"match\": {\n            \"hashTags\": \"{{mustfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/mustfilterhashTags}}\n\t\t{{#mustfilterdtPublished}}\n\t\t,\n\t\t{\n          \"range\": {\n            \"dtPublished\": {\n              \"gte\": \"{{mustfilterdtPublishedgteValue}}\",\n              \"lt\": \"{{mustfilterdtPublishedltValue}}\"\n            }\n          }\n        }\n\t\t{{/mustfilterdtPublished}}\n\t\t{{#mustshouldfilter}}\n\t\t,\n        {\n          \"bool\": {\n            \"should\": [\n              {{#shouldfilterthreadContributors}}\n              {\n                \"nested\": {\n                  \"path\": \"threadContributors\",\n                  \"query\": {\n                    \"terms\": {\n                      \"threadContributors.threadContributorId\": {{#toJson}}shouldfilterthreadContributorsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfilterthreadContributors}}\n\t\t\t  {{#shouldfiltersourceid}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.id\": {{#toJson}}shouldfiltersourceidValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourceid}}\n\t\t\t  {{#shouldfiltersourcename}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"source\",\n                  \"query\": {\n                    \"terms\": {\n                      \"source.name.keyword\": {{#toJson}}shouldfiltersourcenameValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltersourcename}}\n\t\t\t  {{#shouldfiltertags}}\n\t\t\t  {{#shouldComma}},{{/shouldComma}}\n              {\n                \"nested\": {\n                  \"path\": \"tags\",\n                  \"query\": {\n                    \"terms\": {\n                      \"tags.id\": {{#toJson}}shouldfiltertagsValue{{/toJson}}\n                    }\n                  }\n                }\n              }\n\t\t\t  {{/shouldfiltertags}}\n\t\t\t  {{#shouldfilterhashTags}}\n\t\t    {{#shouldComma}},{{/shouldComma}}\n        {\n          \"match\": {\n            \"hashTags\": \"{{shouldfilterhashTagsValue}}\"\n          }\n        }\n\t\t{{/shouldfilterhashTags}}\n\t\t\t  \n            ]\n          }\n        }\n\t\t{{/mustshouldfilter}}\n      ]\n    }\n          },\n          \"aggs\": {\n            \"threadContributorsAggs\": {\n              \"nested\": {\n                \"path\": \"threadContributors\"\n              },\n              \"aggs\": {\n                \"threadContributorsAggs\": {\n                  \"terms\": {\n                    \"field\": \"threadContributors.threadContributorId\",\n                    \"size\": 1000\n                    {{#includethreadContributors}}\n                    ,\n                    \"include\": {{#toJson}}includethreadContributorsValue{{/toJson}}\n                    {{/includethreadContributors}}\n                  },\n                  \"aggs\":{\n                    \"threadContributorsAggs\":{\n                      \"terms\":{\n                        \"field\": \"threadContributors.name.keyword\",\n                        \"size\":1000\n                      }\n                    }\n                  }\n              }\n            }\n          }\n        }\n      }\n      {{/threadContributorsAggregation}}\n    }\n  }\n}\n}"
}
}