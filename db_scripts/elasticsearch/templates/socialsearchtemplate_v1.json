{
"script":{"lang":"mustache","source":"    {\n      \"_source\": [\"id\",\"abstract\",\"activityEndDate\",\"body\",\"dtCreated\",\"dtLastModified\",\"dtPublished\",\"hasAcceptedAnswer\",\"hashTags\",\"likeCount\",\"rootOrg\",\"org\",\"postCreator\",\"postKind\",\"replyCount\",\"tags\",\"threadContributors\",\"thumbnail\",\"title\",\"upVoteCount\"],\n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"bool\": {\n          {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"dtLastModified\": {\n                  \"gte\": \"{{filterdtLastModifiedgteValue}}\",\n                  \"lt\": \"{{filterdtLastModifiedltValue}}\"\n                }\n              }\n            },\n            {\n              \"terms\": {\n                \"accessPaths\": {{#toJson}}filteraccessPathsValue{{/toJson}}\n                }\n            }\n            {{#filterhasAcceptedAnswer}}\n            ,\n            {\n              \"terms\": {\n                \"hasAcceptedAnswer\": {{#toJson}}filterhasAcceptedAnswerValue{{/toJson}}\n              }\n            }\n            {{/filterhasAcceptedAnswer}}\n            {{#filtertags}}\n            ,\n            {\n              \"terms\": {\n                \"tags.keyword\": {{#toJson}}filtertagsValue{{/toJson}}\n              }\n            }\n            {{/filtertags}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterhashTags}}\n            ,\n            {\n              \"terms\": {\n                \"hashTags.keyword\": {{#toJson}}filterhashTagsValue{{/toJson}}\n              }\n            }\n            {{/filterhashTags}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n          {{#should}}\n          ,\n          \"should\": [\n            {\n              \"term\": {\n                \"hasAcceptedAnswer\": {\n                  \"value\": \"true\"\n                }\n              }\n            },\n            {\n              \"match_phrase\":{\n                  \"tags\":{\n                    \"query\":\"{{searchTerm}}\",\n                    \"slop\":3\n                  }\n                }\n            },\n            {\n              \"match_phrase\":{\n                  \"abstract\":{\n                    \"query\":\"{{searchTerm}}\",\n                    \"slop\":3\n                  }\n                }\n            },\n            {\n                \"match_phrase\":{\n                  \"title\":{\n                    \"query\":\"{{searchTerm}}\",\n                    \"slop\":3\n                  }\n                }\n              \n            },\n            {\n              \"match_phrase\":{\n                  \"body\":{\n                    \"query\":\"{{searchTerm}}\",\n                    \"slop\":3\n                  }\n                }\n            },\n            {\n              \"nested\": {\n                \"path\": \"reply\",\n                \"query\": {\n                  \"match_phrase\": {\n                    \"reply.body\": {\n                      \"query\": \"{{searchTerm}}\",\n                      \"slop\": 3\n                    }\n                  }\n                }\n              }\n            }\n          ]\n          {{/should}}\n        }\n      },\n      \"functions\": [\n        {\n          \"field_value_factor\": {\n            \"field\": \"upVoteCount\",\n            \"factor\": {{upVoteCountFactor}},\n            \"modifier\": \"sqrt\",\n            \"missing\": 1\n          }\n        },\n        {\n          \"field_value_factor\": {\n            \"field\": \"replyCount\",\n            \"factor\": {{replyCountFactor}},\n            \"modifier\": \"sqrt\",\n            \"missing\": 1\n          }\n        },\n        {\n          \"field_value_factor\": {\n            \"field\": \"likeCount\",\n            \"factor\": {{likeCountFactor}},\n            \"modifier\": \"sqrt\",\n            \"missing\": 1\n          }\n        }\n      ],\n      \"max_boost\": 100,\n      \"score_mode\": \"sum\",\n      \"boost_mode\": \"sum\"\n    }\n  },\n  \"highlight\":{\n    \"fields\":{\n      \"abstract\":{},\n      \"body\":{},\n      \"title\":{},\n      \"reply.body\":{},\n      \"tags\":{},\n      \"hashTags\":{}\n    }\n  }\n  {{#sort}}\n  ,\"sort\":{{#toJson}}sortValue{{/toJson}}\n  {{/sort}}\n  ,\n  \"from\": {{from}},\n  \"size\": {{size}},\n  \"aggs\": {\n    \"TotalAggs\": {\n      \"global\": {},\n      \"aggs\": {\n        \"hashTagsAggs\": {\n          \"filter\": {\n            \"bool\": {\n              {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"dtLastModified\": {\n                  \"gte\": \"{{filterdtLastModifiedgteValue}}\",\n                  \"lt\": \"{{filterdtLastModifiedltValue}}\"\n                }\n              }\n            },\n            {\n              \"terms\": {\n                \"accessPaths\": {{#toJson}}filteraccessPathsValue{{/toJson}}\n                }\n            }\n            {{#filterhasAcceptedAnswer}}\n            ,\n            {\n              \"terms\": {\n                \"hasAcceptedAnswer\": {{#toJson}}filterhasAcceptedAnswerValue{{/toJson}}\n              }\n            }\n            {{/filterhasAcceptedAnswer}}\n            {{#filtertags}}\n            ,\n            {\n              \"terms\": {\n                \"tags.keyword\": {{#toJson}}filtertagsValue{{/toJson}}\n              }\n            }\n            {{/filtertags}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n            }\n          },\n          \"aggs\": {\n            \"hashTagsAggs\": {\n              \"terms\": {\n                \"field\": \"hashTags.keyword\",\n                \"size\": 10\n              }\n            }\n          }\n        },\n        \"hasAcceptedAnswerAggs\": {\n          \"filter\": {\n            \"bool\": {\n              {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"dtLastModified\": {\n                  \"gte\": \"{{filterdtLastModifiedgteValue}}\",\n                  \"lt\": \"{{filterdtLastModifiedltValue}}\"\n                }\n              }\n            },\n            {\n              \"terms\": {\n                \"accessPaths\": {{#toJson}}filteraccessPathsValue{{/toJson}}\n                }\n            },\n            {\n              \"term\": {\n                \"primaryLanguage\": {\n                  \"value\": \"{{primaryLanguageValue}}\"\n                }\n              }\n            }\n            {{#filtertags}}\n            ,\n            {\n              \"terms\": {\n                \"tags.keyword\": {{#toJson}}filtertagsValue{{/toJson}}\n              }\n            }\n            {{/filtertags}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterhashTags}}\n            ,\n            {\n              \"terms\": {\n                \"hashTags.keyword\": {{#toJson}}filterhashTagsValue{{/toJson}}\n              }\n            }\n            {{/filterhashTags}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n            }\n          },\n          \"aggs\": {\n            \"hasAcceptedAnswerAggs\": {\n              \"terms\": {\n                \"field\": \"hasAcceptedAnswer\",\n                \"size\": 10\n              }\n            }\n          }\n        },\n        \"tagsAggs\": {\n          \"filter\": {\n            \"bool\": {\n             {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"dtLastModified\": {\n                  \"gte\": \"{{filterdtLastModifiedgteValue}}\",\n                  \"lt\": \"{{filterdtLastModifiedltValue}}\"\n                }\n              }\n            },\n            {\n              \"terms\": {\n                \"accessPaths\": {{#toJson}}filteraccessPathsValue{{/toJson}}\n                }\n            }\n            {{#filterhasAcceptedAnswer}}\n            ,\n            {\n              \"terms\": {\n                \"hasAcceptedAnswer\": {{#toJson}}filterhasAcceptedAnswerValue{{/toJson}}\n              }\n            }\n            {{/filterhasAcceptedAnswer}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterhashTags}}\n            ,\n            {\n              \"terms\": {\n                \"hashTags.keyword\": {{#toJson}}filterhashTagsValue{{/toJson}}\n              }\n            }\n            {{/filterhashTags}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n            }\n          },\n          \"aggs\": {\n            \"tagsAggs\": {\n              \"terms\": {\n                \"field\": \"tags.keyword\",\n                \"size\": 10\n              }\n            }\n          }\n        },\n        \"accessPathsAggs\": {\n          \"filter\": {\n            \"bool\": {\n              {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"range\": {\n                \"dtLastModified\": {\n                  \"gte\": \"{{filterdtLastModifiedgteValue}}\",\n                  \"lt\": \"{{filterdtLastModifiedltValue}}\"\n                }\n              }\n            }\n            {{#filterhasAcceptedAnswer}}\n            ,\n            {\n              \"terms\": {\n                \"hasAcceptedAnswer\": {{#toJson}}filterhasAcceptedAnswerValue{{/toJson}}\n              }\n            }\n            {{/filterhasAcceptedAnswer}}\n            {{#filtertags}}\n            ,\n            {\n              \"terms\": {\n                \"tags.keyword\": {{#toJson}}filtertagsValue{{/toJson}}\n              }\n            }\n            {{/filtertags}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterhashTags}}\n            ,\n            {\n              \"terms\": {\n                \"hashTags.keyword\": {{#toJson}}filterhashTagsValue{{/toJson}}\n              }\n            }\n            {{/filterhashTags}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n            }\n          },\n          \"aggs\": {\n            \"accessPathsAggs\": {\n              \"terms\": {\n                \"field\": \"accessPaths\",\n                \"size\": 10,\n                \"include\":{{#toJson}}filteraccessPathsValue{{/toJson}}\n              }\n            }\n          }\n        },\n        \"dtLastModifiedAggs\": {\n          \"filter\": {\n            \"bool\": {\n              {{#must}}\n          \"must\": [\n            {\n              \"bool\": {\n            \"should\": [\n              {\n                \"multi_match\": {\n                \"query\": \"{{searchTerm}}\",\n                \"fields\": [\n                  \"abstract\",\n                  \"body^6\",\n                  \"title^7\",\n                  \"tags^5\",\n                  \"hashTags^2\"\n                  {{#mustId}},\"id^1.0\"{{/mustId}}\n                ],\n                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}}\n                }\n              },\n              {\n                \"nested\": {\n                  \"path\": \"reply\",\n                  \"query\": {\n                    \"match\": {\n                      \"reply.body\": \"{{searchTerm}}\"\n                    }\n                  }\n                }\n              }\n            ]\n          }\n            }\n          ],\n          {{/must}}\n          \"filter\": [\n            {\n              \"term\": {\n                \"rootOrg\": {\n                  \"value\": \"{{rootOrgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"org\": {\n                  \"value\": \"{{orgValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"status\": {\n                  \"value\": \"{{statusValue}}\"\n                }\n              }\n            },\n            {\n              \"term\": {\n                \"postKind\": {\n                  \"value\": \"{{postKindValue}}\"\n                }\n              }\n            },\n            {\n              \"terms\": {\n                \"accessPaths\": {{#toJson}}filteraccessPathsValue{{/toJson}}\n                }\n            }\n            {{#filterhasAcceptedAnswer}}\n            ,\n            {\n              \"terms\": {\n                \"hasAcceptedAnswer\": {{#toJson}}filterhasAcceptedAnswerValue{{/toJson}}\n              }\n            }\n            {{/filterhasAcceptedAnswer}}\n            {{#filtertags}}\n            ,\n            {\n              \"terms\": {\n                \"tags.keyword\": {{#toJson}}filtertagsValue{{/toJson}}\n              }\n            }\n            {{/filtertags}}\n            {{#filtersourceName}}\n            ,\n            {\n              \"terms\": {\n                    \"source.name.keyword\": {{#toJson}}filtersourceNameValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceName}}\n            {{#filtersourceId}}\n            ,\n            {\n              \"terms\": {\n                    \"source.id\": {{#toJson}}filtersourceIdValue{{/toJson}}\n                  }\n            }\n            {{/filtersourceId}}\n            {{#filterhashTags}}\n            ,\n            {\n              \"terms\": {\n                \"hashTags.keyword\": {{#toJson}}filterhashTagsValue{{/toJson}}\n              }\n            }\n            {{/filterhashTags}}\n            {{#filterthreadContributors}}\n            ,\n            {\n              \"nested\": {\n                \"path\": \"threadContributors\",\n                \"query\": {\n                  \"terms\": {\n                    \"threadContributors.threadContributorId.keyword\": {{#toJson}}filterthreadContributorsValue{{/toJson}}\n                  }\n                }\n              }\n            }\n            {{/filterthreadContributors}}\n            {{#filterpostCreator}}\n            ,\n            {\n              \"terms\": {\n                    \"postCreator.postCreatorId\": {{#toJson}}filterpostCreatorValue{{/toJson}}\n                  }\n            }\n            {{/filterpostCreator}}\n          ]\n            }\n          },\n          \"aggs\": {\n            \"dtLastModifiedAggs\": {\n              \"range\": {\n              \"field\": \"dtLastModified\",\n              \"ranges\": [\n                {\n                  \"key\": \"Today\", \n                  \"from\": \"now\",\n                  \"to\": \"now\"\n                },\n                {\n                  \"key\": \"Last Week\", \n                  \"from\": \"now-1w\",\n                  \"to\": \"now\"\n                },\n                {\n                  \"key\": \"Last Month\", \n                  \"from\": \"now-1m\",\n                  \"to\": \"now\"\n                },\n                {\n                  \"key\": \"Last Year\", \n                  \"from\": \"now-1y\",\n                  \"to\": \"now\"\n                },\n                {\n                  \"key\": \"Older\", \n                  \"from\": 0, \n                  \"to\": \"now\"\n                }\n              ]\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"}}
