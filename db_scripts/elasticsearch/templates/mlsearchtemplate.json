{
  "script":{
    "lang": "mustache",
    "source": "{\n    \"_source\": [\"body\",\n        \"hasAssessment\",\n        \"locale\",\n        \"subTitle\",\n        \"totalLikes\",\n        \"sourceName\",\n        \"sourceShortName\",\n        \"sourceIconUrl\",\n        \"isStandAlone\",\n        \"isInIntranet\",\n        \"deliveryLanguages\",\n        \"deliveryCountries\",\n        \"costCenter\",\n        \"exclusiveContent\",\n        \"instanceCatalog\",\n        \"price\",\n        \"isContentEditingDisabled\",\n        \"isMetaEditingDisabled\",\n        \"labels\",\n        \"publishedOn\",\n        \"expiryDate\",\n        \"hasTranslations\",\n        \"isTranslationOf\",\n        \"viewCount\",\n        \"averageRating\",\n        \"uniqueUsersCount\",\n        \"totalRating\",\n        \"collections\",\n        \"unit\",\n        \"status\",\n        \"isExternal\",\n        \"learningMode\",\n        \"uniqueLearners\",\n        \"name\",\n        \"identifier\",\n        \"description\",\n        \"resourceType\",\n        \"contentType\",\n        \"isExternal\",\n        \"appIcon\",\n        \"artifactUrl\",\n        \"children\",\n        \"mimeType\",\n        \"creatorContacts\",\n        \"downloadUrl\",\n        \"duration\",\n        \"me_totalSessionsCount\",\n        \"size\",\n        \"complexityLevel\",\n        \"lastUpdatedOn\",\n        \"resourceCategory\",\n        \"msArtifactDetails\",\n        \"isIframeSupported\",\n        \"contentUrlAtSource\",\n        \"certificationUrl\",\n        \"certificationList\",\n        \"skills\",\n        \"topics\",\n        \"creatorDetails\",\n        \"catalogPaths\",\n        \"learningObjective\",\n        \"preRequisites\",\n        \"softwareRequirements\",\n        \"systemRequirements\",\n        \"track\",\n        \"idealScreenSize\",\n        \"minLexVersion\",\n        \"preContents\",\n        \"postContents\",\n        \"isExternal\",\n        \"certificationStatus\",\n        \"subTitles\",\n        \"publisherDetails\",\n        \"trackContacts\",\n        \"creatorContacts\",\n        \"appIcon\",\n        \"trackContacts\",\n        \"publisherDetails\"\n    ],\n    \"highlight\" : {\n        \"fields\" : {\n            \"name\" : {},\n            \"description\" : {}\n        }\n    },\n    {{#sort}}\n        \"sort\": {{#toJson}}sortVal{{/toJson}},\n    {{/sort}}\n    \"from\": {{from}},\n    \"size\": {{size}},\n    \"query\": {\n        \"bool\": {\n            {{#must}}\n                \"must\": [\n                    {\n                        \"multi_match\": {\n                            \"query\": \"{{searchTerm}}\",\n                            \"fields\": [\n                                \"learningObjective\",\n                                \"preRequisites\",\n                                \"subTitle\",\n                                \"catalogPaths\",\n                                \"childrenDescription^1.0\",\n                                \"childrenTitle^1.0\",\n                                \"concepts.name^1.0\",\n                                \"description^1.0\",\n                                \"keywords^1.0\",\n                                \"sourceShortName^1.0\",\n                                \"sourceName^1.0\",\n                                \"name^2.0\"\n                            ],\n                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                            \"operator\": \"OR\",\n                            \n                            \"slop\": 0,\n                            \"prefix_length\": 0,\n                            \"max_expansions\": 50,\n                            \"lenient\": false,\n                            \"zero_terms_query\": \"NONE\",\n                            \"boost\": 1.0\n                        }\n                    }\n                ],\n            {{/must}}\n            \"filter\": [\n                {\n                    \"exists\": {\n                        \"field\": \"name\"\n                    }\n                },\n                {\n                    \"term\":{\n                        \"isSearchable\": true\n                    }\n                }\n                {{#filterMimeType}}\n                    ,{\n                        \"terms\": {\n                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                        }\n                    }\n                {{/filterMimeType}}\n                {{#filterIsInIntranet}}\n                    ,{\n                        \"terms\": {\n                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                        }\n                    }\n                {{/filterIsInIntranet}}\n                {{#filterCollectionsId}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"collections\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterCollectionsId}}\n                {{#filterCollectionsName}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"collections\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterCollectionsName}}\n                {{#filterChildrenId}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"children\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterChildrenId}}\n                {{#filterChildrenName}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"children\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterChildrenName}}\n                {{#filterCuratedTags}}\n                    ,{\n                        \"terms\": {\n                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                            \"boost\": 1.0\n                        }\n                    }\n                {{/filterCuratedTags}}\n                {{#filterIdentifier}}\n                    ,{\n                        \"ids\": {\n                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                        }\n                    }\n                {{/filterIdentifier}}\n                {{#filterLabels}}\n                    ,{\n                        \"terms\": {\n                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                            \"boost\": 1.0\n                        }\n                    }\n                {{/filterLabels}}\n                {{#filterSkills}}\n                    ,{\n                        \"nested\":{\n                            \"path\":\"skills\",\n                            \"query\":{\n                                \"terms\": {\n                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                    \"boost\": 1.0\n                                }\n                            }\n                        }\n                    }\n                {{/filterSkills}}\n                {{#filterJobProfile}}\n                    ,{\n                        \"terms\": {\n                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                            \"boost\": 1.0\n                        }\n                    }\n                {{/filterJobProfile}}\n                {{#filterRegion}}\n                    ,{\n                        \"terms\": {\n                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                            \"boost\": 1.0\n                        }\n                    }\n                {{/filterRegion}}\n                {{#filterInstanceCatalog}}\n                    ,{\n                        \"terms\": {\n                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                        }\n                    }\n                {{/filterInstanceCatalog}}\n                {{#filterExclusiveContent}}\n                    ,{\n                        \"terms\": {\n                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                        }\n                    }\n                {{/filterExclusiveContent}}\n                {{#filterIsRejected}}\n                    ,{\n                        \"terms\": {\n                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                        }\n                    }\n                {{/filterIsRejected}}\n                {{#filterCatalogPathsIds}}\n                    ,{\n                        \"terms\": {\n                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                        }\n                    }\n                {{/filterCatalogPathsIds}}\n                {{#filterUnit}}\n                    ,{\n                        \"terms\": {\n                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                        }\n                    }\n                {{/filterUnit}}\n                {{#filterStatus}}\n                    ,{\n                        \"terms\": {\n                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                        }\n                    }\n                {{/filterStatus}}\n                {{#filterCreatorContacts}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"creatorContacts\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterCreatorContacts}}\n                {{#filterTrackContacts}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"trackContacts\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterTrackContacts}}\n                {{#filterPublisherDetails}}\n                    ,{\n                        \"nested\": {\n                            \"path\": \"publisherDetails\",\n                            \"query\": {\n                                \"terms\": {\n                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                }\n                            }\n                        }\n                    }\n                {{/filterPublisherDetails}}\n                {{#filterIsExternal}}\n                    ,{\n                        \"terms\": {\n                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                        }\n                    }\n                {{/filterIsExternal}}\n                {{#filterLearningMode}}\n                    ,{\n                        \"terms\": {\n                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                        }\n                    }\n                {{/filterLearningMode}}\n                {{#isStandAlone}}\n                    ,{\n                        \"term\": {\n                            \"isStandAlone\": {{isStandAloneVal}}\n                        }\n                    }\n                {{/isStandAlone}}\n                {{#filterComplexityLevel}}\n                    ,{\n                        \"terms\": {\n                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                        }\n                    }\n                {{/filterComplexityLevel}}\n                {{#filterContentType}}\n                    ,{\n                        \"terms\": {\n                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                        }\n                    }\n                {{/filterContentType}}\n                {{#filterDuration}}\n                    ,{\n                        \"bool\": {\n                            \"should\": [\n                                {{#filterDurationItem}}\n                                    {\n                                        \"range\": {\n                                            \"duration\": {\n                                                \"from\": {{filterDurationItemGte}},\n                                                \"to\": {{filterDurationItemLte}},\n                                                \"include_lower\": true,\n                                                \"include_upper\": false\n                                            }\n                                        }\n                                    }\n                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                {{/filterDurationItem}}\n                            ],\n                            \n                            \"adjust_pure_negative\": true\n                        }\n                    }\n                {{/filterDuration}}\n                {{#filterFileType}}\n                    ,{\n                        \"terms\": {\n                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                        }\n                    }\n                {{/filterFileType}}\n                {{#filterLastUpdatedOn}}\n                    ,{\n                        \"range\": {\n                            \"lastUpdatedOn\": {\n                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                \"include_lower\": true,\n                                \"include_upper\": true\n                            }\n                        }\n                    }\n                {{/filterLastUpdatedOn}}\n                {{#filterResourceCategory}}\n                    ,{\n                        \"terms\": {\n                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                        }\n                    }\n                {{/filterResourceCategory}}\n                {{#filterResourceType}}\n                    ,{\n                        \"terms\": {\n                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                        }\n                    }\n                {{/filterResourceType}}\n                {{#filterSourceShortName}}\n                    ,{\n                        \"terms\": {\n                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                        }\n                    }\n                {{/filterSourceShortName}}\n                {{#filterCatalogPaths}}\n                    ,{\n                        \"terms\": {\n                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                        }\n                    }\n                {{/filterCatalogPaths}}\n                {{#filterKeywords}}\n                    ,{\n                        \"terms\": {\n                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                        }\n                    }\n                {{/filterKeywords}}\n                {{#accessControlEnabled}}\n                    {{#accessPaths}}\n                        ,{\n                            \"terms\": {\n                                \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                            }\n                        }\n                    {{/accessPaths}}\n                    ,{\n                        \"term\": {\n                            \"rootOrg\": \"{{rootOrg}}\"\n                        }\n                    },\n                    {\n                        \"nested\": {\n                            \"query\": {\n                                \"bool\": {\n                                    \"must\": [\n                                        {\n                                            \"terms\": {\n                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                            }\n                                        },\n                                        {\n                                            \"range\": {\n                                                \"org.validTill\": {\n                                                    \"from\": \"now\",\n                                                    \"to\": null,\n                                                    \"include_lower\": true,\n                                                    \"include_upper\": true\n                                                }\n                                            }\n                                        }\n                                    ],\n                                    \n                                    \"adjust_pure_negative\": true,\n                                    \"boost\": 1.0\n                                }\n                            },\n                            \"path\": \"org\",\n                            \"ignore_unmapped\": false,\n                            \"score_mode\": \"avg\"\n                        }\n                    }\n                {{/accessControlEnabled}}\n            ]\n            {{#should}}\n                ,\"should\": [\n                    {\n                        \"match_phrase\": {\n                            \"name\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"description\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"concepts.name\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"keywords\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"childrenTitle\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"childrenDescription\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n                    {\n                        \"match_phrase\": {\n                            \"sourceShortName\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    },\n\t\t\t\t\t{\n                        \"match_phrase\": {\n                            \"sourceName\": {\n                                \"query\": \"{{searchTerm}}\",\n                                \n                                \"slop\": 3,\n                                \"boost\": 1.0\n                            }\n                        }\n                    }\n                ]\n            {{/should}}\n            ,\n            \"adjust_pure_negative\": true\n        }\n}\n    ,\"aggregations\": {\n        \"TotalAggs\": {\n            \"global\": {},\n            \"aggregations\": {\n                \"concepts_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"concepts_aggs\": {\n                            \"nested\": {\n                                \"path\": \"concepts\"\n                            },\n                            \"aggregations\": {\n                                \"concepts_identifier_aggs\": {\n                                    \"terms\": {\n                                        \"field\": \"concepts.identifier\",\n                                        \"size\": 25,\n                                        \"min_doc_count\": 1,\n                                        \"shard_min_doc_count\": 0,\n                                        \"show_term_doc_count_error\": false,\n                                        \"order\": [\n                                            {\n                                                \"_count\": \"desc\"\n                                            },\n                                            {\n                                                \"_term\": \"asc\"\n                                            }\n                                        ]\n                                    },\n                                    \"aggregations\": {\n                                        \"concepts_name_aggs\": {\n                                            \"terms\": {\n                                                \"field\": \"concepts.name.keyword\",\n                                                \"size\": 25,\n                                                \"min_doc_count\": 1,\n                                                \"shard_min_doc_count\": 0,\n                                                \"show_term_doc_count_error\": false,\n                                                \"order\": [\n                                                    {\n                                                        \"_count\": \"desc\"\n                                                    },\n                                                    {\n                                                        \"_term\": \"asc\"\n                                                    }\n                                                ]\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                },\n                \"contentType_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"contentType_aggs\": {\n                            \"terms\": {\n                                \"field\": \"contentType\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_count\": \"desc\" }\n                            }\n                        }\n                    }\n                },\n                \"complexityLevel_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"complexityLevel_aggs\": {\n                            \"terms\": {\n                                \"field\": \"complexityLevel\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_count\": \"desc\" }\n                            }\n                        }\n                    }\n                },\n                \"sourceShortName_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"sourceShortName_aggs\": {\n                            \"terms\": {\n                                \"field\": \"sourceShortName.keyword\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_key\": \"asc\" }\n                            }\n                        }\n                    }\n                },\n                \"catalogPaths_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"catalogPaths_aggs\": {\n                            \"terms\": {\n                                \"field\": \"catalogPaths.keyword\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_key\": \"asc\" }\n                            }\n                        }\n                    }\n                },\n                \"duration_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterResourceType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceType}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"duration_aggs\": {\n                            \"range\": {\n                                \"field\": \"duration\",\n                                \"ranges\": [\n                                    {\n                                        \"key\": \"Less than 20 mins\",\n                                        \"to\": 1200.0\n                                    },\n                                    {\n                                        \"key\": \"20 to 60 mins\",\n                                        \"from\": 1200.0,\n                                        \"to\": 3600.0\n                                    },\n                                    {\n                                        \"key\": \"60 to 180 mins\",\n                                        \"from\": 3600.0,\n                                        \"to\": 10800.0\n                                    },\n                                    {\n                                        \"key\": \"More than 180 mins\",\n                                        \"from\": 10800.0\n                                    }\n                                ],\n                                \"keyed\": false\n                            }\n                        }\n                    }\n                }\n                ,\"learningMode_aggs\": {\n                        \"filter\": {\n                            \"bool\": {\n                                {{#must}}\n                                    \"must\": [\n                                        {\n                                            \"multi_match\": {\n                                                \"query\": \"{{searchTerm}}\",\n                                                \"fields\": [\n                                                    \"learningObjective\",\n                                                    \"preRequisites\",\n                                                    \"subTitle\",\n                                                    \"catalogPaths\",\n                                                    \"childrenDescription^1.0\",\n                                                    \"childrenTitle^1.0\",\n                                                    \"concepts.name^1.0\",\n                                                    \"description^1.0\",\n                                                    \"keywords^1.0\",\n                                                    \"sourceShortName^1.0\",\n                                                    \"sourceName^1.0\",\n                                                    \"name^2.0\"\n                                                ],\n                                                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                                \"operator\": \"OR\",\n                                                \n                                                \"slop\": 0,\n                                                \"prefix_length\": 0,\n                                                \"max_expansions\": 50,\n                                                \"lenient\": false,\n                                                \"zero_terms_query\": \"NONE\",\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    ],\n                                {{/must}}\n                                \"filter\": [\n                                    {\n                                        \"exists\": {\n                                            \"field\": \"name\"\n                                        }\n                                    },\n                                    {\n                                        \"term\":{\n                                            \"isSearchable\": true\n                                        }\n                                    }\n                                    {{#filterMimeType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterMimeType}}\n                                    {{#filterIsInIntranet}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsInIntranet}}\n                                    {{#filterCollectionsId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsId}}\n                                    {{#filterCollectionsName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsName}}\n                                    {{#filterChildrenId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenId}}\n                                    {{#filterChildrenName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenName}}\n                                    {{#filterCuratedTags}}\n                                        ,{\n                                            \"terms\": {\n                                                \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterCuratedTags}}\n                                    {{#filterIdentifier}}\n                                        ,{\n                                            \"ids\": {\n                                                \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIdentifier}}\n                                    {{#filterLabels}}\n                                        ,{\n                                            \"terms\": {\n                                                \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterLabels}}\n                                    {{#filterSkills}}\n                                        ,{\n                                            \"nested\":{\n                                                \"path\":\"skills\",\n                                                \"query\":{\n                                                    \"terms\": {\n                                                        \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                        \"boost\": 1.0\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterSkills}}\n                                    {{#filterJobProfile}}\n                                        ,{\n                                            \"terms\": {\n                                                \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterJobProfile}}\n                                    {{#filterRegion}}\n                                        ,{\n                                            \"terms\": {\n                                                \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterRegion}}\n                                    {{#filterInstanceCatalog}}\n                                        ,{\n                                            \"terms\": {\n                                                \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterInstanceCatalog}}\n                                    {{#filterExclusiveContent}}\n                                        ,{\n                                            \"terms\": {\n                                                \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterExclusiveContent}}\n                                    {{#filterIsRejected}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsRejected}}\n                                    {{#filterCatalogPathsIds}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPathsIds}}\n                                    {{#filterUnit}}\n                                        ,{\n                                            \"terms\": {\n                                                \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterUnit}}\n                                    {{#filterStatus}}\n                                        ,{\n                                            \"terms\": {\n                                                \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterStatus}}\n                                    {{#filterCreatorContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"creatorContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCreatorContacts}}\n                                    {{#filterTrackContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"trackContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterTrackContacts}}\n                                    {{#filterPublisherDetails}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"publisherDetails\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterPublisherDetails}}\n                                    {{#filterIsExternal}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsExternal}}\n                                    {{#isStandAlone}}\n                                        ,{\n                                            \"term\": {\n                                                \"isStandAlone\": {{isStandAloneVal}}\n                                            }\n                                        }\n                                    {{/isStandAlone}}\n                                    {{#filterComplexityLevel}}\n                                        ,{\n                                            \"terms\": {\n                                                \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterComplexityLevel}}\n                                    {{#filterContentType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterContentType}}\n                                    {{#filterDuration}}\n                                        ,{\n                                            \"bool\": {\n                                                \"should\": [\n                                                    {{#filterDurationItem}}\n                                                        {\n                                                            \"range\": {\n                                                                \"duration\": {\n                                                                    \"from\": {{filterDurationItemGte}},\n                                                                    \"to\": {{filterDurationItemLte}},\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": false\n                                                                }\n                                                            }\n                                                        }\n                                                        {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                    {{/filterDurationItem}}\n                                                ],\n                                                \n                                                \"adjust_pure_negative\": true\n                                            }\n                                        }\n                                    {{/filterDuration}}\n                                    {{#filterFileType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterFileType}}\n                                    {{#filterLastUpdatedOn}}\n                                        ,{\n                                            \"range\": {\n                                                \"lastUpdatedOn\": {\n                                                    \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                    \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                    \"include_lower\": true,\n                                                    \"include_upper\": true\n                                                }\n                                            }\n                                        }\n                                    {{/filterLastUpdatedOn}}\n                                    {{#filterResourceCategory}}\n                                        ,{\n                                            \"terms\": {\n                                                \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterResourceCategory}}\n                                    {{#filterResourceType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterResourceType}}\n                                    {{#filterSourceShortName}}\n                                        ,{\n                                            \"terms\": {\n                                                \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterSourceShortName}}\n                                    {{#filterCatalogPaths}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPaths}}\n                                    {{#filterKeywords}}\n                                        ,{\n                                            \"terms\": {\n                                                \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterKeywords}}\n                                    {{#accessControlEnabled}}\n                                        ,{\n                                            \"terms\": {\n                                                \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                            }\n                                        },\n                                        {\n                                            \"term\": {\n                                                \"rootOrg\": \"{{rootOrg}}\"\n                                            }\n                                        },\n                                        {\n                                            \"nested\": {\n                                                \"query\": {\n                                                    \"bool\": {\n                                                        \"must\": [\n                                                            {\n                                                                \"terms\": {\n                                                                    \"org.org\": {{#toJson}}org{{/toJson}}\n                                                                }\n                                                            },\n                                                            {\n                                                                \"range\": {\n                                                                    \"org.validTill\": {\n                                                                        \"from\": \"now\",\n                                                                        \"to\": null,\n                                                                        \"include_lower\": true,\n                                                                        \"include_upper\": true\n                                                                    }\n                                                                }\n                                                            }\n                                                        ],\n                                                        \n                                                        \"adjust_pure_negative\": true,\n                                                        \"boost\": 1.0\n                                                    }\n                                                },\n                                                \"path\": \"org\",\n                                                \"ignore_unmapped\": false,\n                                                \"score_mode\": \"avg\"\n                                            }\n                                        }\n                                    {{/accessControlEnabled}}\n                                ]\n                            }\n                        },\n                        \"aggregations\": {\n                            \"learningMode_aggs\": {\n                                \"terms\": {\n                                    \"field\": \"learningMode\",\n                                    \"size\": 1000,\n                                    \"min_doc_count\": 1,\n                                    \"shard_min_doc_count\": 0,\n                                    \"show_term_doc_count_error\": false,\n                                    \"order\": { \"_key\": \"asc\" }\n                                }\n                            }\n                        }\n                }\n                ,\"resourceType_aggs\": {\n                        \"filter\": {\n                            \"bool\": {\n                                {{#must}}\n                                    \"must\": [\n                                        {\n                                            \"multi_match\": {\n                                                \"query\": \"{{searchTerm}}\",\n                                                \"fields\": [\n                                                    \"learningObjective\",\n                                                    \"preRequisites\",\n                                                    \"subTitle\",\n                                                    \"catalogPaths\",\n                                                    \"childrenDescription^1.0\",\n                                                    \"childrenTitle^1.0\",\n                                                    \"concepts.name^1.0\",\n                                                    \"description^1.0\",\n                                                    \"keywords^1.0\",\n                                                    \"sourceShortName^1.0\",\n                                                    \"sourceName^1.0\",\n                                                    \"name^2.0\"\n                                                ],\n                                                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                                \"operator\": \"OR\",\n                                                \n                                                \"slop\": 0,\n                                                \"prefix_length\": 0,\n                                                \"max_expansions\": 50,\n                                                \"lenient\": false,\n                                                \"zero_terms_query\": \"NONE\",\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    ],\n                                {{/must}}\n                                \"filter\": [\n                                    {\n                                        \"exists\": {\n                                            \"field\": \"name\"\n                                        }\n                                    },\n                                    {\n                                        \"term\":{\n                                            \"isSearchable\": true\n                                        }\n                                    }\n                                    {{#filterMimeType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterMimeType}}\n                                    {{#filterIsInIntranet}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsInIntranet}}\n                                    {{#filterCollectionsId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsId}}\n                                    {{#filterCollectionsName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsName}}\n                                    {{#filterChildrenId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenId}}\n                                    {{#filterChildrenName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenName}}\n                                    {{#filterCuratedTags}}\n                                        ,{\n                                            \"terms\": {\n                                                \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterCuratedTags}}\n                                    {{#filterIdentifier}}\n                                        ,{\n                                            \"ids\": {\n                                                \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIdentifier}}\n                                    {{#filterLabels}}\n                                        ,{\n                                            \"terms\": {\n                                                \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterLabels}}\n                                    {{#filterSkills}}\n                                        ,{\n                                            \"nested\":{\n                                                \"path\":\"skills\",\n                                                \"query\":{\n                                                    \"terms\": {\n                                                        \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                        \"boost\": 1.0\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterSkills}}\n                                    {{#filterJobProfile}}\n                                        ,{\n                                            \"terms\": {\n                                                \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterJobProfile}}\n                                    {{#filterRegion}}\n                                        ,{\n                                            \"terms\": {\n                                                \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterRegion}}\n                                    {{#filterInstanceCatalog}}\n                                        ,{\n                                            \"terms\": {\n                                                \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterInstanceCatalog}}\n                                    {{#filterExclusiveContent}}\n                                        ,{\n                                            \"terms\": {\n                                                \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterExclusiveContent}}\n                                    {{#filterIsRejected}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsRejected}}\n                                    {{#filterCatalogPathsIds}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPathsIds}}\n                                    {{#filterUnit}}\n                                        ,{\n                                            \"terms\": {\n                                                \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterUnit}}\n                                    {{#filterStatus}}\n                                        ,{\n                                            \"terms\": {\n                                                \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterStatus}}\n                                    {{#filterCreatorContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"creatorContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCreatorContacts}}\n                                    {{#filterTrackContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"trackContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterTrackContacts}}\n                                    {{#filterPublisherDetails}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"publisherDetails\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterPublisherDetails}}\n                                    {{#filterIsExternal}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsExternal}}\n                                    {{#filterLearningMode}}\n                                        ,{\n                                            \"terms\": {\n                                                \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterLearningMode}}\n                                    {{#isStandAlone}}\n                                        ,{\n                                            \"term\": {\n                                                \"isStandAlone\": {{isStandAloneVal}}\n                                            }\n                                        }\n                                    {{/isStandAlone}}\n                                    {{#filterComplexityLevel}}\n                                        ,{\n                                            \"terms\": {\n                                                \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterComplexityLevel}}\n                                    {{#filterContentType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterContentType}}\n                                    {{#filterDuration}}\n                                        ,{\n                                            \"bool\": {\n                                                \"should\": [\n                                                    {{#filterDurationItem}}\n                                                        {\n                                                            \"range\": {\n                                                                \"duration\": {\n                                                                    \"from\": {{filterDurationItemGte}},\n                                                                    \"to\": {{filterDurationItemLte}},\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": false\n                                                                }\n                                                            }\n                                                        }\n                                                        {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                    {{/filterDurationItem}}\n                                                ],\n                                                \n                                                \"adjust_pure_negative\": true\n                                            }\n                                        }\n                                    {{/filterDuration}}\n                                    {{#filterFileType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterFileType}}\n                                    {{#filterLastUpdatedOn}}\n                                        ,{\n                                            \"range\": {\n                                                \"lastUpdatedOn\": {\n                                                    \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                    \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                    \"include_lower\": true,\n                                                    \"include_upper\": true\n                                                }\n                                            }\n                                        }\n                                    {{/filterLastUpdatedOn}}\n                                    {{#filterResourceCategory}}\n                                        ,{\n                                            \"terms\": {\n                                                \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterResourceCategory}}\n                                    {{#filterSourceShortName}}\n                                        ,{\n                                            \"terms\": {\n                                                \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterSourceShortName}}\n                                    {{#filterCatalogPaths}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPaths}}\n                                    {{#filterKeywords}}\n                                        ,{\n                                            \"terms\": {\n                                                \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterKeywords}}\n                                    {{#accessControlEnabled}}\n                                        ,{\n                                            \"terms\": {\n                                                \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                            }\n                                        },\n                                        {\n                                            \"term\": {\n                                                \"rootOrg\": \"{{rootOrg}}\"\n                                            }\n                                        },\n                                        {\n                                            \"nested\": {\n                                                \"query\": {\n                                                    \"bool\": {\n                                                        \"must\": [\n                                                            {\n                                                                \"terms\": {\n                                                                    \"org.org\": {{#toJson}}org{{/toJson}}\n                                                                }\n                                                            },\n                                                            {\n                                                                \"range\": {\n                                                                    \"org.validTill\": {\n                                                                        \"from\": \"now\",\n                                                                        \"to\": null,\n                                                                        \"include_lower\": true,\n                                                                        \"include_upper\": true\n                                                                    }\n                                                                }\n                                                            }\n                                                        ],\n                                                        \n                                                        \"adjust_pure_negative\": true,\n                                                        \"boost\": 1.0\n                                                    }\n                                                },\n                                                \"path\": \"org\",\n                                                \"ignore_unmapped\": false,\n                                                \"score_mode\": \"avg\"\n                                            }\n                                        }\n                                    {{/accessControlEnabled}}\n                                ]\n                            }\n                        },\n                        \"aggregations\": {\n                            \"resourceType_aggs\": {\n                                \"terms\": {\n                                    \"field\": \"resourceType\",\n                                    \"size\": 1000,\n                                    \"min_doc_count\": 1,\n                                    \"shard_min_doc_count\": 0,\n                                    \"show_term_doc_count_error\": false,\n                                    \"order\": { \"_key\": \"asc\" }\n                                }\n                            }\n                        }\n                }\n                ,\"resourceCategory_aggs\": {\n                        \"filter\": {\n                            \"bool\": {\n                                {{#must}}\n                                    \"must\": [\n                                        {\n                                            \"multi_match\": {\n                                                \"query\": \"{{searchTerm}}\",\n                                                \"fields\": [\n                                                    \"learningObjective\",\n                                                    \"preRequisites\",\n                                                    \"subTitle\",\n                                                    \"catalogPaths\",\n                                                    \"childrenDescription^1.0\",\n                                                    \"childrenTitle^1.0\",\n                                                    \"concepts.name^1.0\",\n                                                    \"description^1.0\",\n                                                    \"keywords^1.0\",\n                                                    \"sourceShortName^1.0\",\n                                                    \"sourceName^1.0\",\n                                                    \"name^2.0\"\n                                                ],\n                                                \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                                \"operator\": \"OR\",\n                                                \n                                                \"slop\": 0,\n                                                \"prefix_length\": 0,\n                                                \"max_expansions\": 50,\n                                                \"lenient\": false,\n                                                \"zero_terms_query\": \"NONE\",\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    ],\n                                {{/must}}\n                                \"filter\": [\n                                    {\n                                        \"exists\": {\n                                            \"field\": \"name\"\n                                        }\n                                    },\n                                    {\n                                        \"term\":{\n                                            \"isSearchable\": true\n                                        }\n                                    }\n                                    {{#filterMimeType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterMimeType}}\n                                    {{#filterIsInIntranet}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsInIntranet}}\n                                    {{#filterCollectionsId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsId}}\n                                    {{#filterCollectionsName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"collections\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCollectionsName}}\n                                    {{#filterChildrenId}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenId}}\n                                    {{#filterChildrenName}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"children\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterChildrenName}}\n                                    {{#filterCuratedTags}}\n                                        ,{\n                                            \"terms\": {\n                                                \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterCuratedTags}}\n                                    {{#filterIdentifier}}\n                                        ,{\n                                            \"ids\": {\n                                                \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIdentifier}}\n                                    {{#filterLabels}}\n                                        ,{\n                                            \"terms\": {\n                                                \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterLabels}}\n                                    {{#filterSkills}}\n                                        ,{\n                                            \"nested\":{\n                                                \"path\":\"skills\",\n                                                \"query\":{\n                                                    \"terms\": {\n                                                        \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                        \"boost\": 1.0\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterSkills}}\n                                    {{#filterJobProfile}}\n                                        ,{\n                                            \"terms\": {\n                                                \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterJobProfile}}\n                                    {{#filterRegion}}\n                                        ,{\n                                            \"terms\": {\n                                                \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                                \"boost\": 1.0\n                                            }\n                                        }\n                                    {{/filterRegion}}\n                                    {{#filterInstanceCatalog}}\n                                        ,{\n                                            \"terms\": {\n                                                \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterInstanceCatalog}}\n                                    {{#filterExclusiveContent}}\n                                        ,{\n                                            \"terms\": {\n                                                \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterExclusiveContent}}\n                                    {{#filterIsRejected}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsRejected}}\n                                    {{#filterCatalogPathsIds}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPathsIds}}\n                                    {{#filterUnit}}\n                                        ,{\n                                            \"terms\": {\n                                                \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterUnit}}\n                                    {{#filterStatus}}\n                                        ,{\n                                            \"terms\": {\n                                                \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterStatus}}\n                                    {{#filterCreatorContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"creatorContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterCreatorContacts}}\n                                    {{#filterTrackContacts}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"trackContacts\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterTrackContacts}}\n                                    {{#filterPublisherDetails}}\n                                        ,{\n                                            \"nested\": {\n                                                \"path\": \"publisherDetails\",\n                                                \"query\": {\n                                                    \"terms\": {\n                                                        \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    {{/filterPublisherDetails}}\n                                    {{#filterIsExternal}}\n                                        ,{\n                                            \"terms\": {\n                                                \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterIsExternal}}\n                                    {{#filterLearningMode}}\n                                        ,{\n                                            \"terms\": {\n                                                \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterLearningMode}}\n                                    {{#isStandAlone}}\n                                        ,{\n                                            \"term\": {\n                                                \"isStandAlone\": {{isStandAloneVal}}\n                                            }\n                                        }\n                                    {{/isStandAlone}}\n                                    {{#filterComplexityLevel}}\n                                        ,{\n                                            \"terms\": {\n                                                \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterComplexityLevel}}\n                                    {{#filterContentType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterContentType}}\n                                    {{#filterDuration}}\n                                        ,{\n                                            \"bool\": {\n                                                \"should\": [\n                                                    {{#filterDurationItem}}\n                                                        {\n                                                            \"range\": {\n                                                                \"duration\": {\n                                                                    \"from\": {{filterDurationItemGte}},\n                                                                    \"to\": {{filterDurationItemLte}},\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": false\n                                                                }\n                                                            }\n                                                        }\n                                                        {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                    {{/filterDurationItem}}\n                                                ],\n                                                \n                                                \"adjust_pure_negative\": true\n                                            }\n                                        }\n                                    {{/filterDuration}}\n                                    {{#filterFileType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterFileType}}\n                                    {{#filterLastUpdatedOn}}\n                                        ,{\n                                            \"range\": {\n                                                \"lastUpdatedOn\": {\n                                                    \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                    \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                    \"include_lower\": true,\n                                                    \"include_upper\": true\n                                                }\n                                            }\n                                        }\n                                    {{/filterLastUpdatedOn}}\n                                    {{#filterResourceType}}\n                                        ,{\n                                            \"terms\": {\n                                                \"resourceType\": {{#toJson}}filterResourceTypeVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterResourceType}}\n                                    {{#filterSourceShortName}}\n                                        ,{\n                                            \"terms\": {\n                                                \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterSourceShortName}}\n                                    {{#filterCatalogPaths}}\n                                        ,{\n                                            \"terms\": {\n                                                \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterCatalogPaths}}\n                                    {{#filterKeywords}}\n                                        ,{\n                                            \"terms\": {\n                                                \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                            }\n                                        }\n                                    {{/filterKeywords}}\n                                    {{#accessControlEnabled}}\n                                        ,{\n                                            \"terms\": {\n                                                \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                            }\n                                        },\n                                        {\n                                            \"term\": {\n                                                \"rootOrg\": \"{{rootOrg}}\"\n                                            }\n                                        },\n                                        {\n                                            \"nested\": {\n                                                \"query\": {\n                                                    \"bool\": {\n                                                        \"must\": [\n                                                            {\n                                                                \"terms\": {\n                                                                    \"org.org\": {{#toJson}}org{{/toJson}}\n                                                                }\n                                                            },\n                                                            {\n                                                                \"range\": {\n                                                                    \"org.validTill\": {\n                                                                        \"from\": \"now\",\n                                                                        \"to\": null,\n                                                                        \"include_lower\": true,\n                                                                        \"include_upper\": true\n                                                                    }\n                                                                }\n                                                            }\n                                                        ],\n                                                        \n                                                        \"adjust_pure_negative\": true,\n                                                        \"boost\": 1.0\n                                                    }\n                                                },\n                                                \"path\": \"org\",\n                                                \"ignore_unmapped\": false,\n                                                \"score_mode\": \"avg\"\n                                            }\n                                        }\n                                    {{/accessControlEnabled}}\n                                ]\n                            }\n                        },\n                        \"aggregations\": {\n                            \"resourceCategory_aggs\": {\n                                \"terms\": {\n                                    \"field\": \"resourceCategory\",\n                                    \"size\": 1000,\n                                    \"min_doc_count\": 1,\n                                    \"shard_min_doc_count\": 0,\n                                    \"show_term_doc_count_error\": false,\n                                    \"order\": { \"_count\": \"desc\" }\n                                }\n                            }\n                        }\n                }\n                ,\"region_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"region_aggs\": {\n                            \"terms\": {\n                                \"field\": \"region\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_key\": \"asc\" }\n                            }\n                        }\n                    }\n                }\n                ,\"labels_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterExclusiveContent}}\n                                    ,{\n                                        \"terms\": {\n                                            \"exclusiveContent\": {{#toJson}}filterExclusiveContentVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterExclusiveContent}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"labels_aggs\": {\n                            \"terms\": {\n                                \"field\": \"labels\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_count\": \"desc\" }\n                            }\n                        }\n                    }\n                }\n                ,\"exclusiveContent_aggs\": {\n                    \"filter\": {\n                        \"bool\": {\n                            {{#must}}\n                                \"must\": [\n                                    {\n                                        \"multi_match\": {\n                                            \"query\": \"{{searchTerm}}\",\n                                            \"fields\": [\n                                                \"learningObjective\",\n                                                \"preRequisites\",\n                                                \"subTitle\",\n                                                \"catalogPaths\",\n                                                \"childrenDescription^1.0\",\n                                                \"childrenTitle^1.0\",\n                                                \"concepts.name^1.0\",\n                                                \"description^1.0\",\n                                                \"keywords^1.0\",\n                                                \"sourceShortName^1.0\",\n                                                \"sourceName^1.0\",\n                                                \"name^2.0\"\n                                            ],\n                                            \"type\": {{#should}}\"best_fields\"{{/should}}{{^should}}\"phrase\"{{/should}},\n                                            \"operator\": \"OR\",\n                                            \n                                            \"slop\": 0,\n                                            \"prefix_length\": 0,\n                                            \"max_expansions\": 50,\n                                            \"lenient\": false,\n                                            \"zero_terms_query\": \"NONE\",\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                ],\n                            {{/must}}\n                            \"filter\": [\n                                {\n                                    \"exists\": {\n                                        \"field\": \"name\"\n                                    }\n                                },\n                                {\n                                    \"term\":{\n                                        \"isSearchable\": true\n                                    }\n                                }\n                                {{#filterMimeType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"mimeType\": {{#toJson}}filterMimeTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterMimeType}}\n                                {{#filterIsInIntranet}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isInIntranet\": {{#toJson}}filterIsInIntranetVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsInIntranet}}\n                                {{#filterCollectionsId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.identifier\": {{#toJson}}filterCollectionsIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsId}}\n                                {{#filterCollectionsName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"collections\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"collections.name\": {{#toJson}}filterCollectionsNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCollectionsName}}\n                                {{#filterChildrenId}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.identifier\": {{#toJson}}filterChildrenIdVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenId}}\n                                {{#filterChildrenName}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"children\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"children.name\": {{#toJson}}filterChildrenNameVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterChildrenName}}\n                                {{#filterCuratedTags}}\n                                    ,{\n                                        \"terms\": {\n                                            \"curatedTags.keyword\": {{#toJson}}filterCuratedTagsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterCuratedTags}}\n                                {{#filterIdentifier}}\n                                    ,{\n                                        \"ids\": {\n                                            \"values\": {{#toJson}}filterIdentifierVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIdentifier}}\n                                {{#filterLabels}}\n                                    ,{\n                                        \"terms\": {\n                                            \"labels\": {{#toJson}}filterLabelsVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterLabels}}\n                                {{#filterSkills}}\n                                    ,{\n                                        \"nested\":{\n                                            \"path\":\"skills\",\n                                            \"query\":{\n                                                \"terms\": {\n                                                    \"skills.skill\": {{#toJson}}filterSkillsVal{{/toJson}},\n                                                    \"boost\": 1.0\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterSkills}}\n                                {{#filterJobProfile}}\n                                    ,{\n                                        \"terms\": {\n                                            \"jobProfile\": {{#toJson}}filterJobProfileVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterJobProfile}}\n                                {{#filterRegion}}\n                                    ,{\n                                        \"terms\": {\n                                            \"region\": {{#toJson}}filterRegionVal{{/toJson}},\n                                            \"boost\": 1.0\n                                        }\n                                    }\n                                {{/filterRegion}}\n                                {{#filterInstanceCatalog}}\n                                    ,{\n                                        \"terms\": {\n                                            \"instanceCatalog\": {{#toJson}}filterInstanceCatalogVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterInstanceCatalog}}\n                                {{#filterIsRejected}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isRejected\": {{#toJson}}filterIsRejectedVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsRejected}}\n                                {{#filterCatalogPathsIds}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPathsIds\": {{#toJson}}filterCatalogPathsIdsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPathsIds}}\n                                {{#filterUnit}}\n                                    ,{\n                                        \"terms\": {\n                                            \"unit\": {{#toJson}}filterUnitVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterUnit}}\n                                {{#filterStatus}}\n                                    ,{\n                                        \"terms\": {\n                                            \"status\": {{#toJson}}filterStatusVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterStatus}}\n                                {{#filterCreatorContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"creatorContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"creatorContacts.id\": {{#toJson}}filterCreatorContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterCreatorContacts}}\n                                {{#filterTrackContacts}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"trackContacts\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"trackContacts.id\": {{#toJson}}filterTrackContactsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterTrackContacts}}\n                                {{#filterPublisherDetails}}\n                                    ,{\n                                        \"nested\": {\n                                            \"path\": \"publisherDetails\",\n                                            \"query\": {\n                                                \"terms\": {\n                                                    \"publisherDetails.id\": {{#toJson}}filterPublisherDetailsVal{{/toJson}}\n                                                }\n                                            }\n                                        }\n                                    }\n                                {{/filterPublisherDetails}}\n                                {{#filterIsExternal}}\n                                    ,{\n                                        \"terms\": {\n                                            \"isExternal\": {{#toJson}}filterIsExternalVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterIsExternal}}\n                                {{#filterLearningMode}}\n                                    ,{\n                                        \"terms\": {\n                                            \"learningMode\": {{#toJson}}filterLearningModeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterLearningMode}}\n                                {{#isStandAlone}}\n                                    ,{\n                                        \"term\": {\n                                            \"isStandAlone\": {{isStandAloneVal}}\n                                        }\n                                    }\n                                {{/isStandAlone}}\n                                {{#filterComplexityLevel}}\n                                    ,{\n                                        \"terms\": {\n                                            \"complexityLevel\": {{#toJson}}filterComplexityLevelVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterComplexityLevel}}\n                                {{#filterContentType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"contentType\": {{#toJson}}filterContentTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterContentType}}\n                                {{#filterDuration}}\n                                    ,{\n                                        \"bool\": {\n                                            \"should\": [\n                                                {{#filterDurationItem}}\n                                                    {\n                                                        \"range\": {\n                                                            \"duration\": {\n                                                                \"from\": {{filterDurationItemGte}},\n                                                                \"to\": {{filterDurationItemLte}},\n                                                                \"include_lower\": true,\n                                                                \"include_upper\": false\n                                                            }\n                                                        }\n                                                    }\n                                                    {{#filterDurationItemComma}},{{/filterDurationItemComma}}\n                                                {{/filterDurationItem}}\n                                            ],\n                                            \n                                            \"adjust_pure_negative\": true\n                                        }\n                                    }\n                                {{/filterDuration}}\n                                {{#filterFileType}}\n                                    ,{\n                                        \"terms\": {\n                                            \"fileType\": {{#toJson}}filterFileTypeVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterFileType}}\n                                {{#filterLastUpdatedOn}}\n                                    ,{\n                                        \"range\": {\n                                            \"lastUpdatedOn\": {\n                                                \"from\": \"{{filterLastUpdatedOnGte}}\",\n                                                \"to\": \"{{filterLastUpdatedOnLte}}\",\n                                                \"include_lower\": true,\n                                                \"include_upper\": true\n                                            }\n                                        }\n                                    }\n                                {{/filterLastUpdatedOn}}\n                                {{#filterResourceCategory}}\n                                    ,{\n                                        \"terms\": {\n                                            \"resourceCategory\": {{#toJson}}filterResourceCategoryVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterResourceCategory}}\n                                {{#filterSourceShortName}}\n                                    ,{\n                                        \"terms\": {\n                                            \"sourceShortName.keyword\": {{#toJson}}filterSourceShortNameVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterSourceShortName}}\n                                {{#filterCatalogPaths}}\n                                    ,{\n                                        \"terms\": {\n                                            \"catalogPaths.keyword\": {{#toJson}}filterCatalogPathsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterCatalogPaths}}\n                                {{#filterKeywords}}\n                                    ,{\n                                        \"terms\": {\n                                            \"keywords.keyword\": {{#toJson}}filterKeywordsVal{{/toJson}}\n                                        }\n                                    }\n                                {{/filterKeywords}}\n                                {{#accessControlEnabled}}\n                                    ,{\n                                        \"terms\": {\n                                            \"accessPaths\": {{#toJson}}accessPaths{{/toJson}}\n                                        }\n                                    },\n                                    {\n                                        \"term\": {\n                                            \"rootOrg\": \"{{rootOrg}}\"\n                                        }\n                                    },\n                                    {\n                                        \"nested\": {\n                                            \"query\": {\n                                                \"bool\": {\n                                                    \"must\": [\n                                                        {\n                                                            \"terms\": {\n                                                                \"org.org\": {{#toJson}}org{{/toJson}}\n                                                            }\n                                                        },\n                                                        {\n                                                            \"range\": {\n                                                                \"org.validTill\": {\n                                                                    \"from\": \"now\",\n                                                                    \"to\": null,\n                                                                    \"include_lower\": true,\n                                                                    \"include_upper\": true\n                                                                }\n                                                            }\n                                                        }\n                                                    ],\n                                                    \n                                                    \"adjust_pure_negative\": true,\n                                                    \"boost\": 1.0\n                                                }\n                                            },\n                                            \"path\": \"org\",\n                                            \"ignore_unmapped\": false,\n                                            \"score_mode\": \"avg\"\n                                        }\n                                    }\n                                {{/accessControlEnabled}}\n                            ]\n                        }\n                    },\n                    \"aggregations\": {\n                        \"exclusiveContent_aggs\": {\n                            \"terms\": {\n                                \"field\": \"exclusiveContent\",\n                                \"size\": 1000,\n                                \"min_doc_count\": 1,\n                                \"shard_min_doc_count\": 0,\n                                \"show_term_doc_count_error\": false,\n                                \"order\": { \"_count\": \"desc\" }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}"
  }
}